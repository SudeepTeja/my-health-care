{"ast":null,"code":"import _slicedToArray from\"/Users/sudeepteja/Downloads/My_Health_Care/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext({token:'',isloggedIn:false,login:function login(token){},logout:function logout(){}});var calculateRemainingTime=function calculateRemainingTime(expirationTime){var currentTime=new Date().getTime();var adjExpirationTime=new Date(expirationTime).getTime();var remainingDuration=adjExpirationTime-currentTime;};export var AuthContextProvider=function AuthContextProvider(props){var initialToken=localStorage.getItem('token');var _useState=useState(initialToken),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var userLoggedIn=!!token;var logutHandler=function logutHandler(){setToken(null);localStorage.removeItem('token');};var loginHandler=function loginHandler(token/*, expirationTime*/){setToken(token);localStorage.setItem('token',token);//const remainingTime = calculateRemainingTime(calculateRemainingTime);\nsetTimeout(logutHandler,600000);};var contextValue={token:token,isloggedIn:userLoggedIn,login:loginHandler,logout:logutHandler};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:contextValue,children:props.children});};export default AuthContext;","map":{"version":3,"names":["React","useState","AuthContext","createContext","token","isloggedIn","login","logout","calculateRemainingTime","expirationTime","currentTime","Date","getTime","adjExpirationTime","remainingDuration","AuthContextProvider","props","initialToken","localStorage","getItem","setToken","userLoggedIn","logutHandler","removeItem","loginHandler","setItem","setTimeout","contextValue","children"],"sources":["/Users/sudeepteja/Downloads/My_Health_Care/src/store/auth-context.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nconst AuthContext = React.createContext({\n    token:'',\n    isloggedIn: false,\n    login: (token) => {},\n    logout: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n    const currentTime = new Date().getTime();\n    const adjExpirationTime = new Date(expirationTime).getTime();\n\n    const remainingDuration = adjExpirationTime - currentTime;\n}\n\nexport const AuthContextProvider = (props) => {\n    const initialToken = localStorage.getItem('token');\n    const [token, setToken] = useState(initialToken);\n\n    const userLoggedIn = !!token;\n\n    const logutHandler = () => {\n        setToken(null);\n        localStorage.removeItem('token');\n    }\n\n    const loginHandler = (token/*, expirationTime*/) => {\n        setToken(token);\n        localStorage.setItem('token', token);\n\n        //const remainingTime = calculateRemainingTime(calculateRemainingTime);\n\n        setTimeout(logutHandler, 600000);\n    }\n\n    const contextValue = {\n        token: token,\n        isloggedIn: userLoggedIn,\n        login: loginHandler,\n        logout: logutHandler\n    };\n\n\n    return (\n        <AuthContext.Provider value={contextValue}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n};\n\nexport default AuthContext;"],"mappings":"gIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,2CACA,GAAMC,YAAW,cAAGF,KAAK,CAACG,aAAN,CAAoB,CACpCC,KAAK,CAAC,EAD8B,CAEpCC,UAAU,CAAE,KAFwB,CAGpCC,KAAK,CAAE,eAACF,KAAD,CAAW,CAAE,CAHgB,CAIpCG,MAAM,CAAE,iBAAM,CAAE,CAJoB,CAApB,CAApB,CAOA,GAAMC,uBAAsB,CAAG,QAAzBA,uBAAyB,CAACC,cAAD,CAAoB,CAC/C,GAAMC,YAAW,CAAG,GAAIC,KAAJ,GAAWC,OAAX,EAApB,CACA,GAAMC,kBAAiB,CAAG,GAAIF,KAAJ,CAASF,cAAT,EAAyBG,OAAzB,EAA1B,CAEA,GAAME,kBAAiB,CAAGD,iBAAiB,CAAGH,WAA9C,CACH,CALD,CAOA,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,KAAD,CAAW,CAC1C,GAAMC,aAAY,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAArB,CACA,cAA0BlB,QAAQ,CAACgB,YAAD,CAAlC,wCAAOb,KAAP,eAAcgB,QAAd,eAEA,GAAMC,aAAY,CAAG,CAAC,CAACjB,KAAvB,CAEA,GAAMkB,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBF,QAAQ,CAAC,IAAD,CAAR,CACAF,YAAY,CAACK,UAAb,CAAwB,OAAxB,EACH,CAHD,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACpB,KAAK,oBAAN,CAA+B,CAChDgB,QAAQ,CAAChB,KAAD,CAAR,CACAc,YAAY,CAACO,OAAb,CAAqB,OAArB,CAA8BrB,KAA9B,EAEA;AAEAsB,UAAU,CAACJ,YAAD,CAAe,MAAf,CAAV,CACH,CAPD,CASA,GAAMK,aAAY,CAAG,CACjBvB,KAAK,CAAEA,KADU,CAEjBC,UAAU,CAAEgB,YAFK,CAGjBf,KAAK,CAAEkB,YAHU,CAIjBjB,MAAM,CAAEe,YAJS,CAArB,CAQA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEK,YAA7B,UACKX,KAAK,CAACY,QADX,EADJ,CAKH,CAjCM,CAmCP,cAAe1B,YAAf"},"metadata":{},"sourceType":"module"}